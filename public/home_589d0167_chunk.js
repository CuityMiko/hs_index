webpackJsonp([2],{19:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(20),a=i(o),u=n(57),r=i(u),c=n(55),s=i(c),l=n(22),f=(i(l),n(58)),d=i(f),p=function(t){return new Promise(function(e,n){var i=new r.default(s.default.CACHEMODE.SESSION),o=i.GetData(t);o?e(o):a.default.locationData().then(function(o){var a={pageindex:1};d.default.Getmoviedata(t,a).then(function(n){i.SetData(t,n),e(n)},function(t){n(t)}).catch(function(t){n(t)})},function(t){n(t)})})};e.default={in_theatersData:function(){return p("in_theaters")},coming_soonData:function(){return p("coming_soon")},top250Data:function(){return p("top250")}}},20:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(21),a=i(o),u=n(55),r=i(u),c=n(57),s=i(c);e.default={locationData:function(){var t=new s.default(r.default.CACHEMODE.SESSION),e=t.GetData("location");return new Promise(function(n,i){null==e?a.default.getLocation().then(function(e){t.SetData("location",e),n(e)},function(t){i(t)}):n(e)})}}},21:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(22),r=i(u),c=n(23),s=i(c),l=function(){function t(){o(this,t)}return a(t,null,[{key:"getLocation",value:function(){return new Promise(function(t,e){s.default.Jsonp(r.default.apiurl.bmapurl.getLocationUrl,{}).then(function(e){var n={province:e.content.address_detail.province,city:e.content.address_detail.city.substring(0,e.content.address_detail.city.length-1),city_code:e.content.address_detail.city_code,address:e.content.address,long:e.content.point.x,lat:e.content.point.y};t(n)}).catch(function(t){e(t)})})}}]),t}();e.default=l},55:function(t,e,n){"use strict";function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(56),u=i(a);e.default=o({},u)},56:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.CACHEMODE={SESSION:"session",LOCAL:"LOCAL"}},57:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),u=n(55),r=i(u),c=function(){function t(e){o(this,t),this.mode=e}return a(t,[{key:"GetData",value:function(t){if(r.default.CACHEMODE.SESSION===this.mode){var e=sessionStorage.getItem(t);return e?JSON.parse(e):null}if(r.default.CACHEMODE.LOCAL===this.mode){var n=localStorage.getItem(t);return n?JSON.parse(n):null}return null}},{key:"SetData",value:function(t,e){r.default.CACHEMODE.SESSION===this.mode?sessionStorage.setItem(t,JSON.stringify(e)):r.default.CACHEMODE.LOCAL===this.mode&&localStorage.setItem(t,JSON.stringify(e))}},{key:"DeleteData",value:function(t){r.default.CACHEMODE.SESSION===this.mode?sessionStorage.removeItem(t):r.default.CACHEMODE.LOCAL===this.mode&&localStorage.removeItem(t)}}]),t}();e.default=c},58:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(22),a=i(o),u=n(23),r=i(u),c=n(20),s=i(c);e.default={Getmoviedata:function(t,e){var n=a.default.apiurl.doubanurl.movie,i=n+"/"+t;return new Promise(function(t,n){s.default.locationData().then(function(o){var u={start:(e.pageindx-1)*a.default.page.pagesize,count:a.default.page.pagesize,city:o.city,q:e.q||""};r.default.Jsonp(i,u).then(function(e){t(e)},function(t){n(t)}).catch(function(t){n(t)})},function(t){n(t)})})},Getmoviedetail:function(t){var e=a.default.apiurl.doubanurl.movie,n=e+"/subject/"+t;return new Promise(function(t,e){var i={};r.default.Jsonp(n,i).then(function(e){t(e)},function(t){e(t)}).catch(function(t){e(t)})})}}},60:function(t,e,n){n(61);var i=n(17)(n(63),n(64),"data-v-b93877d0",null);t.exports=i.exports},61:function(t,e,n){var i=n(62);"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals);n(15)("12a10dcd",i,!0)},62:function(t,e,n){e=t.exports=n(8)(),e.push([t.id,".mint-swipe-item img[data-v-b93877d0]{width:100%;height:100%}.home[data-v-b93877d0]{margin-bottom:55px}",""])},63:function(t,e,n){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(19),a=i(o),u=n(2);e.default={data:function(){return{title:"首页",in_theaters:[],coming_soons:[],top250s:[]}},methods:{initdata:function(){u.Indicator.open({text:"加载中...",spinnerType:"fading-circle"});var t=this;a.default.in_theatersData().then(function(e){t.in_theaters=e.subjects}),a.default.coming_soonData().then(function(e){t.coming_soons=e.subjects}),a.default.top250Data().then(function(e){u.Indicator.close(),t.top250s=e.subjects})}},mounted:function(){this.$store.dispatch("hidebackbtn"),this.initdata()}}},64:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("mt-cell",{attrs:{title:"正在热映","is-link":"",to:"/movie/in_theaters"}},[n("span",[t._v("查看更多")])]),t._v(" "),n("div",{staticStyle:{height:"240px"}},[n("mt-swipe",{attrs:{continuous:!1,showIndicators:!0,auto:0}},t._l(t.in_theaters,function(t){return n("mt-swipe-item",{key:t.id},[n("img",{attrs:{src:t.images.medium,alt:t.title}})])}))],1),t._v(" "),n("mt-cell",{attrs:{title:"即将上映","is-link":"",to:"/movie/coming_soon"}},[n("span",[t._v("查看更多")])]),t._v(" "),n("div",{staticStyle:{height:"240px"}},[n("mt-swipe",{attrs:{continuous:!1,showIndicators:!0,auto:0}},t._l(t.coming_soons,function(t){return n("mt-swipe-item",{key:t.id},[n("img",{attrs:{src:t.images.medium,alt:t.title}})])}))],1),t._v(" "),n("mt-cell",{attrs:{title:"口碑榜单","is-link":"",to:"/movie/top250"}},[n("span",[t._v("查看更多")])]),t._v(" "),n("div",{staticStyle:{height:"240px"}},[n("mt-swipe",{attrs:{continuous:!1,showIndicators:!0,auto:0}},t._l(t.top250s,function(t){return n("mt-swipe-item",{key:t.id},[n("img",{attrs:{src:t.images.medium,alt:t.title}})])}))],1)],1)},staticRenderFns:[]}}});